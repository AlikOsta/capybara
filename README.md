Capybara Marketplace
Capybara Marketplace - это современная платформа для размещения объявлений о товарах через Telegram. Проект предоставляет удобный интерфейс для покупки и продажи товаров, интегрированный с Telegram Mini App.

#Особенности
-Авторизация через Telegram
-Публикация и управление объявлениями
-Модерация контента с использованием Mistral AI
-Система избранных объявлений
-Фильтрация и поиск товаров
-Статистика использования платформы
-Telegram бот для взаимодействия с пользователями

#Технический стек
-Backend: Django 5.1.7
-API: Django REST Framework
-Аутентификация: JWT (djangorestframework_simplejwt)
-Асинхронные задачи: Django Q2
-Telegram интеграция: python-telegram-bot
-Модерация контента: Mistral AI

#Структура проекта
Проект состоит из четырех основных приложений:

##app
Основное приложение для управления объявлениями:

-Модели для товаров, категорий, валют, городов
-Представления для отображения, создания, редактирования объявлений
-Система отслеживания просмотров и избранного
-Автоматическая модерация контента

##user_capybara
Приложение для управления пользователями:

-Кастомная модель пользователя для интеграции с Telegram
-Аутентификация через Telegram Mini App
-JWT авторизация
-Профили пользователей

##stats
Приложение для сбора и отображения статистики:

-Ежедневная статистика по пользователям, объявлениям, просмотрам
-Панель управления с графиками и метриками
-Запланированные задачи для агрегации данных

##bot_capybara
Приложение для управления Telegram ботом:

-Обработчики команд
-Интеграция с основной платформой
-Отправка информации о товарах

#Установка и запуск

1. Клонировать репозиторий:

git clone https://github.com/AlikOsta/capybara.git
cd capybara

2. Создать и активировать виртуальное окружение:
   
python -m venv venv
source venv/bin/activate  # для Linux/Mac
venv\Scripts\activate  # для Windows

3. Установить зависимости:

pip install -r requirements.txt

4.Создать файл .env в корне проекта со следующими параметрами:

SECRET_KEY=ваш_секретный_ключ
LANGUAGE_CODE=ru-RU
TIME_ZONE=UTC
DEBUG=True

TELEGRAM_BOT_TOKEN=ваш_токен_бота
TELEGRAM_BOT_USERNAME=имя_вашего_бота
TELEGRAM_MINI_APP_URL=https://ваш_домен/user/mini-app/

MISTRAL_API_KEY=ваш_ключ_mistral_api

5.Выполнить миграции:

python manage.py migrate

6. Создать суперпользователя:

python manage.py createsuperuser

7. Запустить сервер:

python manage.py runserver

8. Запустить Telegram бота:
   
python manage.py run_bot

9. Запустить Django Q для асинхронных задач:

python manage.py qcluster

##Основные URL
Админ-панель: /admin/
Статистика: /admin/stats/dashboard/
Главная страница: /
Telegram Mini App: /user/mini-app/
Авторизация через Telegram: /user/auth/telegram/

##Функциональность Telegram бота
Бот поддерживает следующие команды:

/start - Начать работу с ботом
/help - Показать справку
/info - Информация о сервисе
Бот также может отправлять информацию о конкретных объявлениях по ссылке.

##Автоматизированные задачи
Ежедневная агрегация статистики
Обновление текущей статистики каждый час
Архивирование старых объявлений (28 дней)
Ежемесячные отчеты по статистике









